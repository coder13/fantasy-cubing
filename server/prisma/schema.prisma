generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Competitions {
  id               String  @default("") @db.VarChar(32) @id
  name             String  @default("") @db.VarChar(50)
  cityName         String  @default("") @db.VarChar(50)
  countryId        String  @default("") @db.VarChar(50)
  information      String? @db.MediumText
  year             Int     @default(0) @db.UnsignedSmallInt
  month            Int     @default(0) @db.UnsignedSmallInt
  day              Int     @default(0) @db.UnsignedSmallInt
  endMonth         Int     @default(0) @db.UnsignedSmallInt
  endDay           Int     @default(0) @db.UnsignedSmallInt
  cancelled        Int     @default(0)
  eventSpecs       String? @db.LongText
  wcaDelegate      String? @db.MediumText
  organiser        String? @db.MediumText
  venue            String  @default("") @db.VarChar(240)
  venueAddress     String? @db.VarChar(120)
  venueDetails     String? @db.VarChar(120)
  external_website String? @db.VarChar(200)
  cellName         String  @default("") @db.VarChar(45)
  latitude         Int?
  longitude        Int?

  @@index([year, month, day])
  @@index([year, endMonth, endDay])
}

model Continents {
  id         String @default("") @db.VarChar(50) @id
  name       String @default("") @db.VarChar(50)
  recordName String @default("") @db.Char(3)
  latitude   Int    @default(0)
  longitude  Int    @default(0)
  zoom       Int    @default(0) @db.TinyInt
}

model Countries {
  id          String  @default("") @db.VarChar(50) @id
  name        String  @default("") @db.VarChar(50)
  continentId String  @default("") @db.VarChar(50)
  iso2        String? @db.Char(2)
}

model Events {
  id       String @default("") @db.VarChar(6) @id
  name     String @default("") @db.VarChar(54)
  rank     Int    @default(0)
  format   String @default("") @db.VarChar(10)
  cellName String @default("") @db.VarChar(45)
}

model Formats {
  id                   String @default("") @db.Char(1) @id
  name                 String @default("") @db.VarChar(50)
  sort_by              String @db.VarChar(255)
  sort_by_second       String @db.VarChar(255)
  expected_solve_count Int
  trim_fastest_n       Int
  trim_slowest_n       Int
}

model Persons {
  id        String  @default("") @db.VarChar(10)
  subid     Int     @default(1) @db.TinyInt
  name      String? @db.VarChar(80)
  countryId String  @default("") @db.VarChar(50)
  gender    String? @default("") @db.Char(1)

  @@id([id, subid])
}

model RanksAverage {
  personId      String @default("") @db.VarChar(10)
  eventId       String @default("") @db.VarChar(6)
  best          Int    @default(0)
  worldRank     Int    @default(0)
  continentRank Int    @default(0)
  countryRank   Int    @default(0)

  @@id([personId, eventId])
}

model RanksSingle {
  personId      String @default("") @db.VarChar(10)
  eventId       String @default("") @db.VarChar(6)
  best          Int    @default(0)
  worldRank     Int    @default(0)
  continentRank Int    @default(0)
  countryRank   Int    @default(0)

  @@id([personId, eventId])
}

model Results {
  competitionId         String  @default("") @db.VarChar(32)
  eventId               String  @default("") @db.VarChar(6)
  roundTypeId           String  @default("") @db.Char(1)
  pos                   Int     @default(0) @db.SmallInt
  best                  Int     @default(0)
  average               Int     @default(0)
  personName            String? @db.VarChar(80)
  personId              String  @default("") @db.VarChar(10)
  personCountryId       String? @db.VarChar(50)
  formatId              String  @default("") @db.Char(1)
  value1                Int     @default(0)
  value2                Int     @default(0)
  value3                Int     @default(0)
  value4                Int     @default(0)
  value5                Int     @default(0)
  regionalSingleRecord  String? @db.Char(3)
  regionalAverageRecord String? @db.Char(3)

  @@id([competitionId, eventId, roundTypeId, personId])
}

model RoundTypes {
  id       String  @default("") @db.Char(1) @id
  rank     Int     @default(0)
  name     String  @default("") @db.VarChar(50)
  cellName String  @default("") @db.VarChar(45)
  final    Boolean
}

model championships {
  id                Int    @default(0) @id
  competition_id    String
  championship_type String
}

model eligible_country_iso2s_for_championship {
  id                    BigInt @default(0) @id
  championship_type     String
  eligible_country_iso2 String
}

model Session {
  id        String   @id
  sid       String   @unique
  data      String
  expiresAt DateTime
}

model User {
  id          Int    @id @default(autoincrement())
  name        String @unique
  email       String @unique
  avatar      String?
}
